scene:
- name: House Scene - Away
  entities:
    # Kitchen Off
    group.kitchen_lights: off
    light.lenovo_tablet_1001_backlight: off

    # Man Cave Off
    group.man_cave_lights: off
    light.fire_tablet_701_backlight:
      state: on
      brightness: 1
    
    # Guest Room Off
    group.guest_room_lights: off
    
    # Master Bedroom Off
    group.master_bedroom_lights: off

    # Great Room Off
    group.great_room_lights: off
    media_player.living_room_tv: off
    media_player.living_room_receiver: off

    # Garage Off
    group.garage_lights: off
    switch.ikea_outlet_103: off

    # Laundry Room Off
    group.laundry_room_lights: off

- name: House Scene - Sleep
  entities:
    switch.ledge_fluxer: off
    light.interior_lights:
      state: off
      transition: 5
    group.interior_light_switches: off
    group.back_yard_lights: off
    light.ge_softwhite_101:
      state: on
      brightness: 50
    light.ge_softwhite_104:
      state: on
      brightness: 50

- name: House Scene - Warm Welcome
  entities:
    light.ledge_strips: on
    switch.ledge_fluxer: on
    light.kitchen_cabinet_lights: on
    light.kitchen_bar_lights: on

- name: Great Room Scene - Dinner Time
  entities:
    switch.ledge_fluxer: off
    light.ledge_strips:
      state: on
      kelvin: 3000
      brightness: 255
      transition: 5
    switch.bar_lights: on
    switch.cabinet_lights: on
    light.flex_strip_105: off
    light.couch_lamp: off
    light.love_seat_lamp: off
    light.kitchen_overhead_lights: off
    light.kitchen_table_lights:
      state: on
      brightness: 120
      transition: 5

- name: Great Room Scene - Wake up
  entities:
    switch.ledge_fluxer: on
    light.ledge_strips:
      state: on
      brightness: 127
      transition: 5

- name: Great Room Scene - Wind Down
  entities:
    switch.ledge_fluxer: off
    light.great_room_strips:
      state: on
      kelvin: 2000
      brightness: 255
      transition: 5
    light.couch_lamp:
      state: off
      transition: 5
    light.love_seat_lamp:
      state: off
      transition: 5
    group.kitchen_lights: off
- name: Great Room Scene - Bright
  entities:
    switch.ledge_fluxer: off
    light.great_room_strips:
      state: on
      kelvin: 5000
      brightness: 255
      transition: 5
    light.couch_lamp:
      state: on
      brightness: 255
      transition: 5
    light.love_seat_lamp:
      state: on
      brightness: 255
      transition: 5
    switch.bar_lights: on
    switch.cabinet_lights: on
    light.kitchen_table_lights:
      state: on
      brightness: 125
      transition: 5
- name: Great Room Scene - Warm White
  entities:
    switch.ledge_fluxer: off
    light.great_room_strips:
      state: on
      kelvin: 3000
      brightness: 255
      transition: 5
    light.couch_lamp:
      state: on
      brightness: 127
      transition: 5
    light.love_seat_lamp:
      state: on
      brightness: 127
      transition: 5
- name: Great Room Scene - Night Light
  entities:
    switch.ledge_fluxer: off
    light.flex_strip_105:
      state: off
      transition: 5
    light.ledge_strips:
      state: on
      brightness: 120
      hs_color: 
      - 15.178
      - 99.216
      transition: 5
    light.couch_lamp:
      state: off
      transition: 5
    light.love_seat_lamp:
      state: off
      transition: 5
    group.kitchen_lights: off

- name: Great Room Scene - Sweet Tart
  entities:
    switch.ledge_fluxer: off
    light.flex_strip_107:
      state: on
      hs_color: 
      - 195.178
      - 100
      brightness: 255
      transition: 5
    light.flex_strip_108:
      state: on
      hs_color: 
      - 195.178
      - 100
      brightness: 255
      transition: 5
    light.flex_strip_105:
      state: on
      hs_color:
      - 314.824
      - 100
      brightness: 255
      transition: 5
    light.flex_strip_104:
      state: on
      hs_color:
      - 314.824
      - 100
      brightness: 255
      transition: 5

- name: Man Cave Scene - Wake Up
  icon: mdi:weather-sunset-up
  entities:
    light.flex_strip_101:
      state: on
      kelvin: 2000
      brightness: 255
      transition: 0
    light.flex_strip_102:
      state: on
      kelvin: 2000
      brightness: 255
      transition: 0
    light.flex_strip_106:
      state: off
      transition: 0
    light.flex_strip_111: off
    light.hue_color_a19_101:
      state: off
      transition: 0
    switch.man_cave_fluxer: off
    switch.man_cave_shuffler: off
    light.fire_tablet_701_backlight:
      state: on
      brightness: 75
      transition: 5

- name: Man Cave Scene - Warm White
  icon: mdi:brightness-5
  entities:
    light.flex_strip_101:
      state: on
      kelvin: 3000
      brightness: 255
      transition: 0
    light.flex_strip_102:
      state: on
      kelvin: 3000
      brightness: 255
      transition: 0
    light.flex_strip_106:
      state: on
      kelvin: 3000
      brightness: 255
      transition: 0
    light.flex_strip_111: off
    light.hue_color_a19_101:
      state: on
      kelvin: 3000
      brightness: 255
      transition: 0
    switch.man_cave_fluxer: off
    switch.man_cave_shuffler: off
    light.fire_tablet_701_backlight:
      state: on
      brightness: 150
      transition: 5

- name: Man Cave Scene - Focus
  icon: mdi:brightness-7
  entities:
    light.flex_strip_101:
      state: on
      kelvin: 6500
      brightness: 255
      transition: 0
    light.flex_strip_102:
      state: on
      kelvin: 6500
      brightness: 255
      transition: 0
    light.flex_strip_106:
      state: on
      kelvin: 6500
      brightness: 255
      transition: 0
    light.flex_strip_111:
      state: on
      kelvin: 6500
      brightness: 255
      transition: 0
    light.hue_color_a19_101:
      state: on
      kelvin: 6500
      brightness: 255
      transition: 0
    switch.man_cave_fluxer: off
    switch.man_cave_shuffler: off
    light.fire_tablet_701_backlight:
      state: on
      brightness: 255
      transition: 5

- name: Man Cave Scene - Reading Mode
  icon: mdi:book-open-page-variant
  entities:
    light.flex_strip_101:
      state: on
      kelvin: 2000
      brightness: 100
      transition: 0
    light.flex_strip_102: 
      state: off
      transition: 0
    light.flex_strip_106:
      state: off
      transition: 0
    light.hue_color_a19_101:
      transition: 0
      state: on
      kelvin: 2000
      brightness: 255
    light.flex_strip_111: off
    switch.man_cave_fluxer: off
    switch.man_cave_shuffler: off
    light.fire_tablet_701_backlight:
      state: on
      brightness: 75
      transition: 5

- name: Man Cave Scene - Sweet Tart
  icon: mdi:candycane
  entities:
    light.flex_strip_101:
      state: on
      hs_color: 
      - 314.824
      - 100
      brightness: 255
      transition: 5
    light.hue_color_a19_101:
      state: on
      hs_color: 
      - 314.824
      - 100
      brightness: 255
      transition: 5
    light.flex_strip_102:
      state: on
      hs_color: 
      - 195.178
      - 100
      brightness: 255
      transition: 5
    light.flex_strip_106:
      state: on
      hs_color: 
      - 195.178
      - 100
      brightness: 255
      transition: 5
    light.flex_strip_111: off
    switch.man_cave_fluxer: off
    switch.man_cave_shuffler: off
    light.fire_tablet_701_backlight:
      state: on
      brightness: 150
      transition: 5

- name: Man Cave Scene - Jungle
  icon: mdi:tree
  entities:
    light.flex_strip_101:
      state: on
      hs_color: 
      - 30.119
      - 99.216
      brightness: 255
      transition: 5
    light.hue_color_a19_101:
      state: on
      hs_color: 
      - 26.87
      - 90.196
      brightness: 255
      transition: 5
    light.flex_strip_102:
      state: on
      hs_color: 
      - 105.118
      - 99.608
      brightness: 255
      transition: 5
    light.flex_strip_106:
      state: on
      hs_color: 
      - 14.231
      - 81.569
      brightness: 255
      transition: 5
    light.flex_strip_111: off
    switch.man_cave_fluxer: off
    switch.man_cave_shuffler: off
    light.fire_tablet_701_backlight:
      state: on
      brightness: 150
      transition: 5

- name: Man Cave Scene - Wind Down
  icon: mdi:weather-night
  entities:
    light.flex_strip_101:
      state: on
      kelvin: 2000
      brightness: 100
      transition: 5
    light.flex_strip_106:
      state: on
      kelvin: 2000
      brightness: 255
      transition: 0
    light.flex_strip_102:
      state: off
      transition: 5
    light.hue_color_a19_101:
      state: off
      transition: 5
    light.flex_strip_111: off
    switch.man_cave_fluxer: off
    switch.man_cave_shuffler: off
    light.fire_tablet_701_backlight:
      state: on
      brightness: 75
      transition: 5

- name: Man Cave Scene - Off
  icon: mdi:power-off
  entities:
    light.man_cave_lights:
      state: off
      transition: 5
    switch.man_cave_fluxer: off
    switch.man_cave_shuffler: off
    light.fire_tablet_701_backlight:
      state: on
      brightness: 1
      transition: 5

- name: Back Yard Scene - Sleep
  entities:
    light.back_yard_lights: off
    light.ge_softwhite_104:
      state: on
      brightness: 50
      transition: 5

- name: Back Yard Scene - Off
  entities:
    light.back_yard_lights: off
    light.ge_softwhite_104: off

- name: Outside Scene - Sunset
  entities:
    light.back_yard_lights: on
    light.ge_softwhite_104: off
    light.ge_softwhite_101:
      state: on
      brightness: 255

- name: Outside Scene - Sunrise
  entities:
    light.back_yard_lights: off
    light.exterior_lights: off

- name: Outside Scene - Security
  entities:
    light.back_yard_lights: off
    light.ge_softwhite_101:
      state: on
      brightness: 255
    light.ge_softwhite_104:
      state: on
      brightness: 50

- name: Ledge Scene - Warm White
  entities:
    switch.ledge_fluxer: off
    light.ledge_strips:
      state: on
      kelvin: 3000
      brightness: 255
      transition: 5

- name: Ledge Scene - Flux
  entities:
    light.ledge_strips:  on
    switch.ledge_fluxer: on


script:
  # house_auto_scene:
  #   alias: House Auto Scene
  #   sequence:
  #   - service: scene.turn_on
  #     data_template:
  #       entity_id: >
  #         {% set hr = now().hour %}
  #         {% if hr >= 4 and hr < 8 %}
  #           scene.man_cave_scene_wake_up
  #         {% elif hr >= 8 and hr < 11 %}
  #           scene.man_cave_scene_warm_white
  #         {% elif hr >= 11 and hr < 16 %}
  #           scene.man_cave_scene_focus
  #         {% elif hr >= 16 and hr < 22 %}
  #           scene.man_cave_scene_sweet_tart
  #         {% elif hr >= 22 or hr < 4 %}
  #           scene.man_cave_scene_wind_down
  #         {% endif %}
  man_cave_auto_scene:
    alias: Man Cave Auto Scene
    sequence:
    - service: scene.turn_on
      data_template:
        entity_id: >
          {% set hr = now().hour %}
          {% if hr >= 4 and hr < 8 %}
            scene.man_cave_scene_wake_up
          {% elif hr >= 8 and hr < 11 %}
            scene.man_cave_scene_warm_white
          {% elif hr >= 11 and hr < 16 %}
            scene.man_cave_scene_focus
          {% elif hr >= 16 and hr < 22 %}
            scene.man_cave_scene_sweet_tart
          {% elif hr >= 22 or hr < 4 %}
            scene.man_cave_scene_wind_down
          {% endif %}