title: Network
path: network
panel: false
cards:
- type: conditional
  conditions:
  - entity: sensor.pi_hole_101_reachable
    state: 'Reachable'
  card:
    type: custom:hui-entities-card
    title: Pi-hole Ad Blocker
    icon: mdi:pi-hole
    show_header_toggle: false
    entities:
    - type: section
    - entity: sensor.pi_hole_101_reachable
    - entity: switch.pi_hole_101_enable_disable
      name: Ad Blocker
      icon: mdi:block-helper
    - type: custom:hui-markdown-card
      content: >-
        [[ if(sensor.pi_hole_101_status == "enabled", "Ad Blocking is <strong>enabled</strong>. If you are having trouble browsing the web, disable it using the toggle switch above.", "Ad Blocking is temporarily disabled.") ]]
- type: conditional
  conditions:
  - entity: sensor.pi_hole_101_reachable
    state: 'Not Reachable'
  card:
    type: entities
    title: Pi-hole Ad Blocker
    entities:
    - entity: sensor.pi_hole_101_reachable
    - type: custom:hui-markdown-card
      content: >-
        ## <ha-icon style='color:var(--status-color-alert)!important' icon='mdi:alert-box'></ha-icon> Pi-hole is not reachable!!

        This might cause issues with home internet access!

        Make sure the host is running, or log in to the router to disable the custom DNS.
      style: |
        ha-card {
          color: red!important;
        }

#     label: Status
#   - entity: sensor.pi_hole_101_reachable
#   - entity: sensor.pi_hole_101_status
#     name: Ad Blocker
#     icon: mdi:block-helper
#   - type: custom:hui-conditional-card
#     conditions:
#     - entity: sensor.pi_hole_101_status
#       state: 'enabled'
#     card:
#       type: custom:button-card
#   - type: custom:hui-horizontal-stack-card
#     cards:
#     - type: conditional
#       conditions:
#       - entity: sensor.pi_hole_101_status
#         state: 'enabled'
#       card:
#         type: custom:button-card
#         color_type: card
#         icon: mdi:block-helper
#         name: Disable
#         label: for 5 min
#         show_name: true
#         show_label: true
#         tap_action:
#           action: call-service
#           service: pi_hole.disable
#           service_data:
#             duration: '00:05:00'
#         styles:
#           icon:
#           - color: var(--primary-text-color)
#           name:
#           - color: var(--primary-text-color)
#           label:
#           - color: var(--primary-text-color)
#           card:
#           - background-color: var(--paper-card-background-color)
#           - -webkit-box-shadow: 0px 0px 0px 0px var(--button-card-light-color)
#           - box-shadow: 0px 0px 0px 0px var(--button-card-light-color)
#     - type: conditional
#       conditions:
#       - entity: sensor.pi_hole_101_status
#         state: 'disabled'
#       card:
#         type: custom:button-card
#         color_type: card
#         icon: mdi:pi-hole
#         name: Enable
#         label: now
#         show_name: true
#         show_label: true
#         tap_action:
#           action: call-service
#           service: pi_hole.enable
#         styles:
#           icon:
#           - color: var(--primary-text-color)
#           name:
#           - color: var(--primary-text-color)
#           label:
#           - color: var(--primary-text-color)
#           card:
#           - background-color: var(--paper-card-background-color)
#           - -webkit-box-shadow: 0px 0px 0px 0px var(--button-card-light-color)
#           - box-shadow: 0px 0px 0px 0px var(--button-card-light-color)
#     - type: custom:button-card
#       color_type: card
#       icon: mdi:block-helper
#       name: Disable
#       label: for 1 hour
#       show_name: true
#       show_label: true
#       tap_action:
#         action: call-service
#         service: pi_hole.disable
#         service_data:
#           duration: '01:00:00'
#       styles:
#         icon:
#         - color: var(--primary-text-color)
#         name:
#         - color: var(--primary-text-color)
#         label:
#         - color: var(--primary-text-color)
#         card:
#         - background-color: var(--paper-card-background-color)
#         - -webkit-box-shadow: 0px 0px 0px 0px var(--button-card-light-color)
#         - box-shadow: 0px 0px 0px 0px var(--button-card-light-color)
#     - type: custom:button-card
#       color_type: card
#       icon: mdi:block-helper
#       name: Disable
#       label: for 12 hours
#       show_name: true
#       show_label: true
#       tap_action:
#         action: call-service
#         service: pi_hole.disable
#         service_data:
#           duration: '00:12:00'
#       styles:
#         icon:
#         - color: var(--primary-text-color)
#         name:
#         - color: var(--primary-text-color)
#         label:
#         - color: var(--primary-text-color)
#         card:
#         - background-color: var(--paper-card-background-color)
#         - -webkit-box-shadow: 0px 0px 0px 0px var(--button-card-light-color)
#         - box-shadow: 0px 0px 0px 0px var(--button-card-light-color)

