- alias: Laundry Room Motion
  trigger:
  - entity_id: binary_sensor.presence_5
    from: 'off'
    platform: state
    to: 'on'
  condition:
  - after: '04:00:00'
    before: '22:00:00'
    condition: time
  action:
  - data:
      brightness: '255'
      entity_id: ' light.laundry_room_lights'
      transition: 2
    service: light.turn_on

- alias: Laundry Room Motion (Late Night)
  trigger:
  - entity_id: binary_sensor.presence_5
    from: 'off'
    platform: state
    to: 'on'
  condition:
  - after: '22:00:00'
    before: '04:00:00'
    condition: time
  action:
  - data:
      brightness: '63'
      entity_id: ' light.laundry_room_light_1'
      transition: 2
    service: light.turn_on

- alias: Laundry Room No-Motion
  trigger:
  - entity_id: binary_sensor.presence_5
    for:
      minutes: 5
    platform: state
    to: 'off'
  condition: []
  action:
  - data:
      brightness: '0'
      entity_id: ' light.laundry_room_lights'
      transition: '5'
    service: light.turn_on

- alias: Startup Init Theme
  trigger:
  - event: start
    platform: homeassistant
  action:
  - data:
      name: slate
    service: frontend.set_theme

- alias: Bedroom Motion - Home Mode
  trigger:
  - platform: state
    entity_id: binary_sensor.master_bedroom_occupancy
    from: 'off'
    to: 'on'
  condition:
  - condition: time
    after: '04:00:00'
    before: '08:00:00'
  - condition: state
    entity_id: input_select.automation_mode
    state: sleep
  action:
    service: input_select.select_option
    data:
      entity_id: input_select.automation_mode
      option: home
    
- alias: Nobody Home - Away Mode
  trigger:
  - entity_id: sensor.anybody_home
    platform: state
    from: 'True'
    to: 'False'
  condition:
    condition: template
    value_template: '{{ states("input_select.automation_mode") not in ["guest", "vacation", "away"] }}'
  action:
  - data:
      message: Home assistant detected that nobody is home.
      title: Activing Away Mode
      data:
        url: dev
        actions:
        - action: automation_mode_home
          title: Cancel
        tag: nobody-is-home
    service: notify.html5_notifications
  - service: input_select.select_option
    data:
      entity_id: input_select.automation_mode
      option: away

- alias: Nobody Home Notification Action Clicked - Home Mode
  trigger:
  - event_data:
      action: automation_mode_home
    event_type: html5_notification.clicked
    platform: event
  condition:
    condition: template
    value_template: '{{ states("input_select.automation_mode") not in ["guest", "vacation", "home"] }}'
  action:
  - service: input_select.select_option
    data:
      entity_id: input_select.automation_mode
      option: home

- alias: Anybody Home - Home Mode
  trigger:
  - entity_id: sensor.anybody_home
    platform: state
    from: 'False'
    to: 'True'
  condition:
    condition: template
    value_template: '{{ states("input_select.automation_mode") not in ["guest", "vacation", "home"] }}'
  action:
  - service: input_select.select_option
    data:
      entity_id: input_select.automation_mode
      option: home